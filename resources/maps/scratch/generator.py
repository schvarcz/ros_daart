# https://betravis.github.io/shape-tools/path-to-polygon/

stConvex = "314.302 8.028, 3.364 187.550, 158.089 673.315, 377.531 537.542, 396.872 538.296, 550.853 272.785"

stLab = "30.854 148.890, 30.854 628.544, 437.232 629.327, 437.232 692.184, 31.808 693.638, 30.515 1016.949, 491.258 1017.707, 490.753 831.574, 558.661 831.826, 559.166 1016.286, 938.906 1017.296, 938.401 149.143, 719.252 148.638, 718.747 694.770, 655.053 693.255, 654.375 149.326"
heightLab = 746
pt1Lab = [24,28]
pt2Lab = [750,722]

stENSTA = "318.683 249.566, 211.596 249.566, 211.596 -113.638, 377.489 -113.638, 377.489 -86.852, 402.311 -86.852, 402.311 258.148, 410.346 258.148, 410.346 -112.924, 595.346 -112.924, 595.346 249.576, 491.953 249.576, 491.953 258.148, 603.739 258.148, 603.739 267.076, 605.882 267.076, 605.882 257.969, 734.096 257.969, 734.096 249.398, 604.275 249.398, 604.275 -113.459, 788.918 -113.459, 788.918 -102.745, 813.918 -102.745, 813.918 258.326, 823.025 258.326, 823.025 -113.584, 1188.550 -113.584, 1188.550 250.112, 880.833 250.112, 880.833 258.152, 1188.803 258.152, 1188.803 279.239, 1204.839 279.239, 1204.839 414.576, 1205.092 730.904, 865.882 730.826, 865.882 739.490, 1204.811 739.490, 1204.811 1050.365, 822.132 1050.365, 822.132 730.469, 604.303 730.469, 604.303 394.018, 2.000 394.018, 2.000 257.255, 319.188 257.255"
heightENSTA = 1168
pt1Ensta = [0,0]
pt2Ensta = [1207,1168]

stENSTA2 = "13399.339 -11391.318, 10856.476 -11391.318, 10856.476 -20983.629, 14795.744 -20983.629, 14795.744 -20346.776, 15385.150 -20346.776, 15385.150 -11187.281, 15575.965 -11187.281, 17513.797 -11187.281, 20168.247 -11187.281, 20168.247 -10974.998, 20219.130 -10974.998, 20219.130 -11191.527, 23263.688 -11191.527, 25159.117 -11183.037, 25375.373 -11183.037, 26748.071 -11187.171, 35921.090 -11187.171, 35921.090 -10685.810, 36301.883 -10685.810, 36301.883 -7468.059, 36307.880 1032.901, 26393.053 1031.046, 25354.172 1022.556, 20181.645 1022.556, 20181.645 -7300.862, 19.431 -7300.862, 19.431 -11208.522, 13411.332 -11208.522"
heightENSTA2 = 1085
pt1Ensta2 = [0,0]
pt2Ensta2 = [57*32,35*32]

stPolygon = "126.654 58.379, 122.656 60.703, 133.791 80.117, 122.656 99.533, 126.654 101.857, 139.119 80.123, 139.111 80.117, 139.119 80.113, 126.654 58.379"
heightPolygon = 293.31101
pt1Polygon = [0,0]
pt2Polygon = [1026, 630]

st, resolution, height, pt1, pt2 = stLab, 0.02, heightLab, pt1Lab, pt2Lab
st, resolution, height, pt1, pt2 = stENSTA, 0.01, heightENSTA, pt1Ensta, pt2Ensta
st, resolution, height, pt1, pt2 = stENSTA2, 0.01, heightENSTA2, pt1Ensta2, pt2Ensta2
# st, resolution, height, pt1, pt2 = stPolygon, 0.2, heightPolygon, pt1Polygon, pt2Polygon


pts = st.split(",")

pts = [ [float(v) for v in pt.strip().split(" ")] for pt in pts]

minPt = [float("inf"), float("inf")]
maxPt = [float("-inf"), float("-inf")]
for pt in pts:
    minPt = [min(minPt[0],pt[0]), min(minPt[1],-pt[1])]
    maxPt = [max(maxPt[0],pt[0]), max(maxPt[1],-pt[1])]

resX = (pt2[0]-pt1[0])/(maxPt[0]-minPt[0])
resY = (pt2[1]-pt1[1])/(maxPt[1]-minPt[1])

pts = [ [ (pt[0]-minPt[0])*resX+pt1[0], (-pt[1]-minPt[1])*resY+pt1[1]] for pt in pts]

pts = [ [ pt[0]*resolution, pt[1]*resolution] for pt in pts]

#minPt = [-0.5,-0.6]
for i in range(len(pts)-1):
    print "{", pts[i][0], ", ", pts[i][1], ", ", pts[i+1][0], ", " , pts[i+1][1], "},"


print "{", pts[-1][0], ", ", pts[-1][1], ", ", pts[0][0], ", " , pts[0][1], "}"

print len(pts)
